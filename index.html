<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="description" content="Tetris game with dynamic score and level display">
    <meta name="referrer" content="no-referrer">
    <title>Tetris Game</title>

    <!-- CSS Imports with Integrity and CORS -->
    <link rel="stylesheet" href="css/index.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css"
        integrity="sha384-5e2ESR8Ycmos6g3gAKr1Jvwye8sW4U1u/cAKulfVJnkakCcMqhOudbtPnvJ+nbv7" crossorigin="anonymous">
</head>

<body>
    <div id="buttons">
        <button id="pause-btn" aria-label="Pause Game">Pause</button>
        <button id="reset-btn" aria-label="Reset Game">Reset</button>
    </div>
    <canvas id="game" aria-label="Game Canvas"></canvas>

    <!-- Grouping preview canvas and displayContainer together -->
    <div class="preview-container">
        <canvas id="preview" aria-label="Next Block Preview"></canvas>
        <div class="displayContainer">
            <div id="scoreDisplay" aria-live="polite">Score: 0</div>
            <div id="levelDisplay" aria-live="polite">Level: 1</div>
        </div>
    </div>

    <div id="resetModal" class="modal" role="dialog" aria-modal="true" aria-labelledby="resetModalTitle">
        <div class="modal-content">
            <p id="resetModalTitle">Choose an option:</p>
            <button id="resetGameBtn">Reset Game</button>
            <button id="resetLevelBtn">Reset Level</button>
            <button id="cancelBtn">Don't Reset</button>
        </div>
    </div>

    <div id="howToPlayIcon" class="icon" aria-label="How to Play" role="button" tabindex="0"
        onclick="showInstructions()">
        <i class="fas fa-question-circle"></i>
    </div>

    <div id="instructionsModal" class="modal" role="dialog" aria-modal="true" aria-labelledby="instructionsTitle">
        <div class="modal-content">
            <h2 id="instructionsTitle">How to Play</h2>
            <p>Use the left and right arrow keys to move the blocks.</p>
            <p>Press the upper arrow key to rotate the blocks.</p>
            <p>Press the lower arrow key to have the blocks fall faster.</p>
            <button onclick="closeInstructions()">Close</button>
        </div>
    </div>

    <!-- JavaScript with Integrity Checks -->
    <script src="scripts/index.js"></script>
    <script src="scripts/scoreSystem.js"></script>
    <script src="scripts/modalVisibility.js"></script>
</body>

</html>